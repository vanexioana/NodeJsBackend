{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/models/FavouriteLists.js","webpack:///./src/models/Video.js","webpack:///./src/sequelize.js","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///external \"dotenv\"","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"sequelize\""],"names":["express","require","bodyParser","cors","path","sequelize","FavouriteList","Video","Op","app","use","static","join","__dirname","json","get","req","res","videoList","findAll","status","err","console","warn","message","video","findByPk","params","vid","post","body","create","put","update","fields","delete","favouriteList","destroy","description","date","sortByDate","page","query","pageSize","currentOffset","where","or","like","undefined","eq","order","limit","offset","list","lid","getVideos","videos","id","cid","shift","listId","listen","process","env","PORT","sync","alter","Sequelize","define","type","INTEGER","primaryKey","autoIncrement","TEXT","validate","min","args","msg","DATE","hasMany","module","exports","title","STRING","url","is","config","dialect","storage"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const express = require('express')\nconst bodyParser = require('body-parser')\nconst cors = require('cors')\nconst path = require('path')\nconst sequelize = require('./sequelize').sequelize\nconst FavouriteList = require(\"./models/FavouriteLists\")\nconst Video = require(\"./models/Video\")\nconst {Op} = require(\"sequelize\");\n\nconst app = express()\napp.use(express.static(path.join(__dirname, 'public')))\napp.use(cors())\napp.use(express.json())\n\napp.get('/video', async (req, res) => {\n    try {\n        const videoList = await Video.findAll()\n        res.status(200).json(videoList)\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'internal server error'})\n    }\n})\n\napp.get('/video/:vid', async (req, res) => {\n    try {\n        const video = await Video.findByPk(req.params.vid)\n        if (video) {\n            res.status(200).json(video)\n        } else {\n            res.status(404).json({message: 'not found'})\n        }\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\napp.post('/video', async (req, res) => {\n    try {\n        const video = req.body\n        await Video.create(video)\n        res.status(201).json({message: 'created'})\n\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\napp.put('/video/:vid', async (req, res) => {\n    try {\n        const video = await Video.findByPk(req.params.vid)\n        if (video) {\n            await video.update(req.body, {\n                fields: ['description', 'title', 'url']\n            })\n            res.status(202).json({message: 'accepted'})\n        } else {\n            res.status(404).json({message: 'not found'})\n        }\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\napp.delete('/video', async (req, res) => {\n    try {\n        const favouriteList = await FavouriteList.findByPk(req.params.vid)\n        if (favouriteList) {\n            await favouriteList.destroy()\n            res.status(202).json({message: 'accepted'})\n        } else {\n            res.status(404).json({message: 'not found'})\n        }\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\napp.get(\"/favouriteList\", async (req, res) => {\n    try {\n        const {description, date, sortByDate,page} = req.query\n        const pageSize = 5\n        const currentOffset = page? (page+1)*pageSize:0\n\n        const favouriteList = await FavouriteList.findAll({\n            where: {\n                [Op.or]: [\n                    description ? {description: {[Op.like]: description}} : undefined,\n                    date ? {date: {[Op.eq]: date}} : undefined\n                ]\n            },\n            order: sortByDate ? [[sortByDate, \"ASC\"]] : undefined,\n            limit: 5,\n            offset: currentOffset\n        })\n\n\n        res.status(200).json(favouriteList)\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'internal server error'})\n    }\n})\n\napp.get(\"/favouriteList/:lid/video\", async (req, res) => {\n    try {\n        const list = await FavouriteList.findByPk(req.params.lid)\n        if (list) {\n            const video = await list.getVideos()\n            res.status(200).json(video)\n        } else {\n            res.status(404).json({message: 'not found'})\n        }\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\napp.get('/favouriteList/:lid/video/:vid', async (req, res) => {\n    try {\n        const favouriteList = await FavouriteList.findByPk(req.params.lid)\n        if (favouriteList) {\n            const videos = await favouriteList.getVideos({\n                where: {\n                    id: req.params.cid\n                }\n            })\n            const video = videos.shift()\n            if (video) {\n                res.status(200).json(video)\n            } else {\n                res.status(404).json({message: 'chapter not found'})\n            }\n        } else {\n            res.status(404).json({message: 'book not found'})\n        }\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\napp.post('/favouriteList/:lid/video/:vid', async (req, res) => {\n    try {\n        const list = await FavouriteList.findByPk(req.params.lid)\n        if (list) {\n            const video = req.body\n            video.listId = list.id\n            await Video.create(video)\n            res.status(200).json({message: 'created'})\n        } else {\n            res.status(404).json({message: 'not found'})\n        }\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\napp.put('/favouriteList/:lid/video/:vid', async (req, res) => {\n    try {\n        const list = await FavouriteList.findByPk(req.params.vid)\n        if (list) {\n            const videos = await list.getVideos({\n                where: {\n                    id: req.params.vid\n                }\n            })\n            const video = videos.shift()\n            if (video) {\n                await video.update(req.body)\n                res.status(202).json({message: 'accepted'})\n            } else {\n                res.status(404).json({message: 'chapter not found'})\n            }\n        } else {\n            res.status(404).json({message: 'book not found'})\n        }\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\napp.delete('/favouriteList/:lid/video/:vid', async (req, res) => {\n    try {\n        const list = await FavouriteList.findByPk(req.params.vid)\n        if (list) {\n            const videos = await list.getVideos({\n                where: {\n                    id: req.params.vid\n                }\n            })\n            const video = videos.shift()\n            if (video) {\n                await video.destroy()\n                res.status(202).json({message: 'accepted'})\n            } else {\n                res.status(404).json({message: 'chapter not found'})\n            }\n        } else {\n            res.status(404).json({message: 'book not found'})\n        }\n    } catch (err) {\n        console.warn(err)\n        res.status(500).json({message: 'some error occured'})\n    }\n})\n\n\napp.listen(process.env.PORT, async () => {\n    await sequelize.sync({alter: true})\n})","const sequelize = require(\"../sequelize.js\").sequelize\r\nconst Sequelize = require(\"sequelize\")\r\nconst Video = require(\"./Video\")\r\n\r\nconst FavouriteList = sequelize.define('favourite_list', {\r\n    id: {type: Sequelize.INTEGER, primaryKey: true, autoIncrement: true},\r\n    description: {\r\n        type: Sequelize.TEXT,\r\n        validate: {\r\n            min: {\r\n                args: [5],\r\n                msg: \"Minimum 5 characters required in description\"\r\n            }\r\n        }\r\n    },\r\n    date: {\r\n        type: Sequelize.DATE\r\n    }\r\n})\r\n\r\nFavouriteList.hasMany(Video)\r\n\r\nmodule.exports = FavouriteList","const Sequelize = require(\"sequelize\");\r\nconst sequelize = require(\"../sequelize.js\").sequelize;\r\n\r\nconst Video = sequelize.define('video', {\r\n    id: {type: Sequelize.INTEGER, primaryKey: true, autoIncrement: true},\r\n    description: {\r\n        type: Sequelize.TEXT,\r\n        validate: {\r\n            min: {\r\n                args: [5],\r\n                msg: \"Minimum 5 characters required in description\"\r\n            }\r\n        }\r\n    },\r\n    title: {\r\n        type: Sequelize.STRING,\r\n        validate: {\r\n            min: {\r\n                args: [5],\r\n                msg: \"Minimum 5 characters required in title\"\r\n            }\r\n        }\r\n    },\r\n    url: {\r\n        type: Sequelize.STRING,\r\n        validate: {\r\n            is: {\r\n                args: [\"^https:\\\\/\\\\/www\\\\.[a-z]*\\\\.[a-z]*\", 'i']\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\nmodule.exports = Video;","const Sequelize = require(\"sequelize\");\r\n\r\n\r\n\r\nrequire('dotenv').config({})\r\nlet sequelize\r\n\r\nif (process.env.NODE_ENV === \"development\"){\r\n    sequelize = new Sequelize({\r\n        dialect: 'sqlite',\r\n        storage: 'database.db'\r\n    })}\r\nelse {\r\n    sequelize = new Sequelize(process.env.DATABASE_URL, {\r\n        dialect: 'postgres',\r\n        protocol: 'postgres',\r\n        dialectOptions: {\r\n            ssl: {\r\n                require: true,\r\n                rejectUnauthorized: false\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nmodule.exports = {sequelize}","module.exports = require(\"body-parser\");","module.exports = require(\"cors\");","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"path\");","module.exports = require(\"sequelize\");"],"sourceRoot":""}